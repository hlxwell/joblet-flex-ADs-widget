<?xml version="1.0" encoding="utf-8"?>
<mx:VBox xmlns:mx="http://www.adobe.com/2006/mxml" height="100"
    initialize="onLoad(event)">
    <mx:Style source="style.css"/>
	<mx:Script>
		<![CDATA[
			public var job:Object = new Object();
			
			private function onLoad(event:Event):void {
				var miniWidth:int = 280;
				var width:int = 200;

				if(job != null) {
					jobTitle.label = job.title;
					jobSalary.text = job.salary;
					jobCompany.label = job.company;
					jobImage.source = job.image_widget_path;
					
					if(stage.width > miniWidth && stage.width <= 600) {
						width = stage.width*0.70;
					} else if(stage.width > 600 && stage.width <= 900) {
						width = (stage.width/2)*0.70;
					} else if(stage.width <= miniWidth) {						
						width = stage.width*0.70;
					} else if(stage.width > 900) {
						width = (stage.width/3)*0.70;
					}

					jobTitle.width = width;
					jobSalary.width = width;
					jobCompany.width = width;
				}
			}

			private function gotoCompany(event:Event):void {
				navigateToURL( new URLRequest( job.link_to_company ), "_blank" );
			}

			private function gotoJob(event:Event):void {
				navigateToURL( new URLRequest( job.link_to_job ), "_blank" );
			}
		]]>
	</mx:Script>
	<mx:HBox width="100%">
		<mx:Image id="jobImage" width="25%"/>
		<mx:VBox verticalGap="0" width="70%">
			<mx:LinkButton id="jobTitle"
			    width="100%"
				click="gotoJob(event)"
			    textAlign="left"
				styleName="htmlLink"
				rollOver="jobTitle.styleName='htmlLinkHover';"
	            rollOut="jobTitle.styleName='htmlLink';"/>
			<mx:Label id="jobSalary" color="red" textAlign="left"/>
			<mx:LinkButton id="jobCompany"
			    width="100%"
				click="gotoCompany(event)"
			    textAlign="left"
				styleName="htmlLink1"
				rollOver="jobCompany.styleName='htmlLinkHover1';"
	            rollOut="jobCompany.styleName='htmlLink1';"/>
		</mx:VBox>
	</mx:HBox>
	<mx:HRule width="100%" height="1" />
</mx:VBox>
